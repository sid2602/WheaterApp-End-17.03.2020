(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),o=a.n(c),i=a(4),s=a(5),m=a(7),u=a(6),l=a(8),h=(a(14),a(15),function(e){var t=e.data,a=e.city,n=e.onChange,c=e.onSubmit;return r.a.createElement("form",{className:"form__weather",onSubmit:c},r.a.createElement("h1",{className:"city"},t.City),r.a.createElement("h4",{className:"date"},t.Date),r.a.createElement("h1",{className:"temperature"},t.Temperature,r.a.createElement("sup",null,"0")," C"),r.a.createElement("h3",{className:"weather"},t.Weather),r.a.createElement("div",{className:"con"},r.a.createElement("input",{className:"inp blue",type:"text",value:a,onChange:n,placeholder:"SEARCH FOR A CITY..."}),r.a.createElement("button",{className:"search "},r.a.createElement("i",{class:"fas fa-search"}))),r.a.createElement("img",{className:"bgc",src:"",alt:"Clouds"}))}),p=a(1),f=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={newCity:"",data:{City:"London",Weather:"",Temperature:"",Date:"",Img:""}},a.params={api:"https://api.openweathermap.org/data/2.5/weather?q=",key:"69e5e3e9ddaebb71e771b954b3f78b15"},a.img_src="",a.getData=function(e){var t=(new Date).toLocaleDateString();fetch("".concat(a.params.api).concat(e,"&appid=").concat(a.params.key)).then((function(e){return e.json()})).then((function(e){a.img_src="images/".concat(e.weather[0].main,"/bgc.jpg"),Math.floor(e.main.temp-273.15)>20&&"clear"===e.weather[0].main&&(a.img_src="images/Sun/bgc.jpg");var n=document.querySelector(".bgc");n.src=a.img_src,a.startEffect(),a.setState({data:{City:e.name,Weather:e.weather[0].main,Temperature:Math.floor(e.main.temp-273.15),Date:t,Img:a.img_src}}),n.src=a.img_src})).catch((function(e){console.log(e),alert("Enter the correct city name"),a.startEffect()}))},a.onSubmit=function(e){e.preventDefault(),""!==a.state.data.newCity&&(a.endEffect(),setTimeout((function(){a.getData(a.state.newCity),a.setState({newCity:""})}),500))},a.onChange=function(e){a.setState({newCity:e.target.value})},a.startEffect=function(){for(var e=document.querySelector(".bgc"),t=document.querySelector(".form__weather"),a=[],n=0;n<t.children.length-1;n++)a.push(t.children[n]);p.a.set([e,a],{autoAlpha:0}),setTimeout((function(){p.a.set(a,{y:"+=100"}),p.a.timeline({defaults:{ease:"power3.inOut"}}).to(e,{autoAlpha:1}).to(a,{duration:1,autoAlpha:1,y:"-=100"},"-=0.25")}),500)},a.endEffect=function(){var e=document.querySelector(".form__weather").children;p.a.to(e,{duration:.25,autoAlpha:0})},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getData(this.state.data.City)}},{key:"render",value:function(){var e=this.state,t=e.newCity,a=e.data;return r.a.createElement("div",{className:"app"},r.a.createElement(h,{data:a,city:t,onChange:this.onChange,onSubmit:this.onSubmit}))}}]),t}(n.Component);o.a.render(r.a.createElement(f,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.e764f04b.chunk.js.map